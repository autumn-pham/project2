<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
     <%- include('../partials/head.ejs') %>
  </head>
  <body>
    <!-- NAV -->
    <nav>
      <%- include('../partials/nav.ejs') %>
    </nav><br />

    <main class="show-workout">
    <h1><%=workout.activity%></h1>
    <h5>DATE:</h5>
    <h6><%=workout.date%></h6>
    <h5>ACTIVITY:</h5>
    <h6><%=workout.activity%></h6>
    <h5>TYPE:</h5>
    <h6><%=workout.type%></h6>
    <h5>YOUR WEIGHT:</h5>
    <h6><%=workout.weight%> lbs</h6>
    <h5>TIME EXERCISED:</h5>
    <h6><%=workout.time%> mins</h6>
    <h5>CALORIES BURNED:</h5>
  <h6>
    <%
    const convertLbs = () => {
      let kg = workout.weight / 2.20462
      return kg
    }

    const calculateCaloriesBurned = () =>{
      let caloriesBurned = 0
      if (workout.type === 'cardio'){
        caloriesBurned += Math.floor(((workout.time * (7 * 3.5 * convertLbs())) / 200))%>
        <%=caloriesBurned%>
      <% } else if (workout.type === 'strength training'){
        caloriesBurned += Math.floor(((workout.time * (6 * 3.5 * convertLbs())) / 200))%>
        <%=caloriesBurned%>
      <% } else if (workout.type === 'flexibility training'){
        caloriesBurned += Math.floor(((workout.time * (3 * 3.5 *convertLbs())) / 200))%>
        <%=caloriesBurned%>
      <% } else {
        console.log('Sorry, calories burned cannot be calculated')
     }
    }
    calculateCaloriesBurned()



    %>


  </h6>
    <br /><br />
    <button type="button" name="button"><a href="/workouts/<%=workout._id%>/edit">EDIT</a></button><br /><br />
    <form action="/workouts/<%=workout._id%>?_method=DELETE" method="POST">
        <input type="submit" value="DELETE"/>
    </form>
  </main>

  <!-- FOOTER -->
  <footer class="page-footer">
  <%- include('../partials/footer.ejs') %>
  </footer>

  </body>
</html>
